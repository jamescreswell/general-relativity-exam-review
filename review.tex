\documentclass[11pt]{article}

\usepackage{fullpage}
\usepackage{parskip}
\usepackage{amsmath}
\usepackage{physics}

\begin{document}

\section{Equivalence principle and geodesics}

The \textbf{Einstein equilvalence principle} (EEP) is inspired by the weak equivalence principle (WEP), which follows from the universal behaviour of gravity.
Galileo and Newton observed that the inertial mass $m_i$ appearing in Newton's second law,
$$ \boldsymbol{F} = m_i \boldsymbol{a}, $$
is equal to the gravitational mass appearing in the gravitational force law,
$$ \boldsymbol{F} = -m_g \nabla \Phi. $$
Hence the WEP concludes that every object that is unaccelerated (i.e. freely falling, or subject only to gravity) moves along the same trajectory, regardless of its mass or composition. 
As a consequence, the motion of freely falling particles is the same in a gravitational field and a uniformly accelerated frame, in small enough regions of spacetime.
The EEP is an extension of the WEP, in which all physical measurements are included, not just the motion of particles.
Namely, the EEP states that in small enough regions of sapcetime, the laws of physics reduce to those of special relativity; it is impossible to detect the existence of a gravitational field by means of local experiments.
The EEP implies that there is no ``absolute acceleration''.
Instead we define ``unaccelerated'' as ``freely falling in the local gravitational field''.
Gravity is not a force because it doesn't cause acceleration (``acceleration due to gravity'' doesn't make sense).
This suggests that gravity can be attributed to the curvature of spacetime.

The EEP can be used to derive some basic quantitative results.
First is the \textbf{gravitational redshift}.
Consider two rockets, a distance $z$ apart, each moving with some constant acceleration $a$ in a certain direction, in a region away from any gravitational fields.
The trailing rocket emits a photon with wavelength $\lambda_0$, which arrives at the leading rocket after a time $\Delta t = z/c$ in our frame.
In this time the speed of the rockets has increased by $a \Delta t = az/c$.
Therefore there is a normal Doppler shift due to the difference in speed between the emitter and the receiver of the photon:
$$\frac{\Delta \lambda}{\lambda_0} = \frac{\Delta v}{c} =\frac{az}{c^2}.$$
$\Delta \lambda$ is positive so the photon is redshifted.
According to the EEP, this situation is indistinguishable from the sending of a photon upwards in a uniform downwards gravitational field with magnitude $a$, i.e.
$$ g = -\nabla \Phi = -a .$$
There is no way for the emitter and receiver to decide whether they are in accelerating rockets or in a gravitational field.
Therefore they also observe redshift, which can be expressed in terms of the gravitational potential:
$$ \frac{\Delta \lambda}{\lambda_0} = \frac{1}{c^2} \frac{\partial \Phi}{\partial z} z = \frac{\Delta \Phi}{c^2} $$
where the final equality follows because $\Phi$ is linear for a constant gravitational field.
Note that in the gravitational field of a planet, $\Phi = -G M/r$ increases as $r$ increases, so $\Delta \Phi$ and hence $\Delta \lambda$ are positive for photons travelling upwards.

Another implication of the EEP is \textbf{time dilation in a gravitational field}.
Consider the experimental setup above.
The period of the light when emitted is $T_0 = \lambda_0/c$, and the period when received is $T_1 = (\lambda_0 + \Delta \lambda)/c$.
Therefore, higher in the gravitational field, time runs faster.
In terms of $\Phi$,
$$ \frac{T_1}{T_0} = 1 + \frac{\Delta \Phi}{c^2}. $$
Calibration for this effect is crucial for GPS satelites.

These considerations imply the \textbf{need for a general metric} because, in Minkowski space, time runs the same everywhere in a certain frame.
The metric $g_{\mu \nu}(x)$ is a tensor-valued function on spacetime which defines the line element of the spacetime:
$$ ds^2 = g_{\mu \nu} dx^\mu dx^\nu. $$
$g_{\mu \nu}$ can be taken to be symmetric ($g_{\mu \nu} = g_{\nu \mu}$) becasue any antisymmetric part would not contribute to $ds^2$.
A crucial property of the metric is that the line element is geometric and should not depend on the choice of coordinates.
This restriction implies the transformation rule for the metric under coordinate transformations.
Consider an arbitrary coordinate transformation
$$ x^\mu \rightarrow \tilde{x}^\mu(x). $$
We require that
$$ ds^2|{}_x = d\tilde{s}^2|{}_{\tilde{x}(x)} $$
where
$$ d\tilde{s}^2 = \tilde{g}_{\mu \nu} d\tilde{x}^\mu d\tilde{x}^\nu. $$
The coordinate transformation gives 
$$ dx^\mu = \frac{\partial x^\mu}{\partial \tilde{x}^\nu} d\tilde{x}^\nu, $$
which together with the previous equations gives
$$ g_{\mu \nu} \frac{\partial x^\mu}{\partial \tilde{x}^\alpha} \frac{\partial x^\nu}{\partial \tilde{x}^\beta} d\tilde{x}^\alpha d\tilde{x}^\beta = \tilde{g}_{\alpha \beta} d\tilde{x}^\alpha d\tilde{x}^\beta. $$
Therefore the metric trasforms as
$$ \tilde{g}_{\alpha \beta} = g_{\mu \nu} \frac{\partial x^\mu}{\partial \tilde{x}^\alpha} \frac{\partial x^\nu}{\partial \tilde{x}^\beta}. $$
Provided that this condition is satisfied, the metric specifies a genuine spacetime geometry that is not dependent on a specific coordinate system.
Although the Minkowski metric $\eta_{\mu \nu}$ is its own inverse, this is not the case in general.
The inverse metric is defined by
$$ g^{\mu \nu} g_{\nu \rho} = \delta^\mu_\rho. $$
Its transformation rule is
$$ \tilde{g}^{\alpha \beta} = g^{\mu \nu} \frac{\partial \tilde{x}^\alpha}{\partial x^\mu} \frac{\partial \tilde{x}^\beta}{\partial x^\nu}, $$
which can be checked by comptuing $\tilde{g}^{\alpha \beta} \tilde{g}_{\beta \gamma}$.

The \textbf{geodesic equation} describes the motion of unaccelerated particles in a general spacetime.
In flat space, the path $x^\mu(\tau)$ of a freely falling particle is given by
$$ \frac{d^2 x^\mu}{d\tau^2} = 0. $$
This straight line path maximizes the proper time.
We promote this to a general principle that holds even in curved spacetime: a freely falling particle follows the path between two events that maximizes its proper time.
For a timelike path $x^\mu(\lambda)$, the infinitesimal proper time is
$$ d\tau^2 = -ds^2 = -g_{\mu \nu} dx^\mu dx^\nu = -g_{\mu \nu} \frac{dx^\mu}{d\lambda} \frac{dx^\nu}{d\lambda} d\lambda^2 $$
and the total proper time between two events A and B is
$$ \tau = \int_{\lambda_A}^{\lambda_B} \sqrt{-g_{\mu \nu} \frac{dx^\mu}{d\lambda} \frac{dx^\nu}{d\lambda}} d\lambda. $$
The actual trajectory maximizes this integral.
The details of this straightforward variational calculation are omitted.
The result is:
$$ \frac{d^2 x^\mu}{d \tau^2} + \Gamma^\mu_{\nu \rho} \frac{dx^\nu}{d\tau} \frac{dx^\rho}{d\tau} = 0 $$
where
$$ \Gamma^\mu_{\nu \rho} = \frac{1}{2} g^{\mu \sigma} \left( \frac{\partial g_{\nu \sigma}}{\partial x^\rho} + \frac{\partial g_{\sigma \rho}}{\partial x^\nu} - \frac{\partial g_{\nu \rho}}{\partial x^\sigma} \right). $$

In the \textbf{Newton limit}, the metric has the form
$$ g_{\mu \nu} = \eta_{\mu \nu} + h_{\mu \nu} $$
where $|h_{\mu \nu}| \ll 1$.
$h_{\mu \nu}$ can depend on the space coordinates $x^i$ but not time $x^0$.
We also assume that velocities are small:
$$ \left| \frac{dx^i}{d\tau} \right| \ll 1. $$
With these assumptions the geodesic equation becomes
$$ \frac{d^2 x^\mu}{d \tau^2} + \Gamma^\mu_{00} \left( \frac{dt}{d\tau} \right)^2 = 0 $$
with
$$ \Gamma^\mu_{00} = -\frac{1}{2} \eta^{\mu \sigma} \frac{\partial h_{00}}{\partial x^\sigma}. $$ 
When $\mu = 0$ this equation gives 
$$ \frac{d^2 t}{d\tau^2} = 0 $$
and when $\mu = i$
$$ \frac{d^2 x^i}{dt^2} = \left( \frac{d\tau}{dt} \right)^2 \frac{d^2 x^i}{d\tau^2} =  -\Gamma^i_{00} = \frac{1}{2} \frac{\partial h_{00}}{\partial x^i}. $$
In vector form this is 
$$ \ddot{\boldsymbol{x}} = \frac{1}{2} \nabla h_{00}, $$
which motivates the identification $h_{00} = -2\Phi$ or $g_{00} = -1 - 2\Phi$.
Here is a suggestion that the metric in general relativity replaces the gravitational potential in Newtonian gavity, just as the geodesic equation replaces Newton's second law.
What remains is to find the replacement for Poisson's equation, $\nabla^2 \Phi = 4 \pi G \rho$, which gives $\Phi$ in terms of the local mass density.

\section{Principle of general covariance}

According to the EEP, a \textbf{local inertial system} can always be found at a certain point in spacetime.
Let $p$ be an event.
Then a local inertial system is a coordinate system in which
$$ g_{\mu \nu} |{}_p = \eta_{\mu \nu} $$
and
$$ \partial_\rho g_{\mu \nu}|{}_p = 0. $$
Therefore, near $p$, the Christoffel symbols, which are expressed in terms of the derivatives of $g_{\mu \nu}$, vanish, and the geodesic equation becomes
$$ \frac{d^2 x^\mu}{d\tau^2} = 0 $$
in accordance with the equivalence principle.

The \textbf{principle of general covariance} is the statement that the form of physical laws cannot depend on the coordinates we use to express them. 
That is, the general laws of nature are to be expressed by equations that are covariant under any coordinate transformation
Furthermore, we require that the laws of physics reduce to those of special relativity in a local inertial system.

\textbf{Tensors}

The \textbf{covariant derivative} is a derivative operator for tensors that returns a tensor.
We need that the derivative of a tensor is also a tensor for general covariance.
For scalar fields $\Phi(x)$, the normal partial derivative $\partial_\mu$ is fine. $\partial_\mu \Phi$ is a tensor because, after a coordinate transformation $x^\mu \rightarrow \tilde{x}^\mu(x)$,
$$ \tilde{\partial}_\mu \tilde{\Phi} = \frac{\partial}{\partial \tilde{x}^\mu} \tilde{\Phi} = \frac{\partial x^\nu}{\partial \tilde{x}^\mu} \frac{\partial}{\partial x^\nu} \Phi = \frac{\partial x^\nu}{\partial \tilde{x}^\mu} \partial_\mu \Phi, $$
which is the correct transformation rule for a one-form.
However, consider a vector field $V^\mu(x)$.
In this case $\partial_\mu V^\nu$ is not a tensor.
Under a coordinate transformation $x^\mu \rightarrow \tilde{x}^\mu(x)$,
$$ \tilde{\partial}_\alpha \tilde{V}^\beta = \frac{\partial x^\mu}{\partial \tilde{x}^\alpha} \frac{\partial}{\partial x^\mu} \left( \frac{\partial \tilde{x}^\beta}{\partial x^\nu} V^\nu \right) = \frac{\partial x^\mu}{\partial \tilde{x}^\alpha} \frac{\partial \tilde{x}^\beta}{\partial x^\nu} \partial_\mu V^\nu + \frac{\partial x^\mu}{\partial \tilde{x}^\alpha} \frac{\partial^2 \tilde{x}^\beta}{\partial x^\mu \partial x^\nu} V^\nu. $$
This is not the correct tensor transformation rule due to the extra term.
We seek a covariant derivative $D_\mu V^\nu$ which does transform correctly:
$$ \tilde{D}_\alpha \tilde{V}^\beta =  \frac{\partial x^\mu}{\partial \tilde{x}^\alpha} \frac{\partial \tilde{x}^\beta}{\partial x^\nu} D_\mu V^\nu. $$
An unpleasant calculation (so? see Hartle) gives the correct result:
$$ D_\mu V^\nu = \partial_\mu V^\nu + \Gamma^\nu_{\mu \rho} V^\rho. $$
For one-forms, the covariant derivative is
$$ D_\mu A_\nu = \partial_\mu A_\nu - \Gamma^\rho_{\mu \nu} A_\rho. $$
The general formula is
\begin{multline*}
D_\rho T^{\mu_1 \cdots \mu_n}{}_{\nu_1 \cdots \nu_m} = \partial_\rho T^{\mu_1 \cdots \mu_n}{}_{\nu_1 \cdots \nu_m} + \Gamma^{\mu_1}_{\rho \sigma} T^{\sigma \mu_2 \cdots \mu_n}{}_{\nu_1 \cdots \nu_m} + \cdots + \Gamma^{\mu_n}_{\rho \sigma} T^{\mu_1 \cdots \mu_{n-1} \sigma}{}_{\nu_1 \cdots \nu_m} \\  - \Gamma^{\sigma}_{\rho \nu_1} T^{\mu_1 \cdots \mu_n}{}_{\sigma \nu_2 \cdots \nu_m} - \cdots - \Gamma^{\sigma}_{\rho \nu_m} T^{\mu_1 \cdots \mu_n}{}_{\nu_1 \cdots \nu_{m-1} \sigma}.
\end{multline*}
The covariant derivative has the normal properties of derivatives, including linearity and the product rule.
Furthermore, the covariant derivative of the metric is zero:
$$ D_\rho g_{\mu \nu} = D_\rho g^{\mu \nu} = 0. $$
This result is trivial in a local inertial system, and therefore it holds everywhere because it is a tensor equation.
The fact that the metric is covariant constant enables indices to be freely raised and lowered within a covariant derivative.
For example,
$$ D_\mu A_\nu = D_\mu (g_{\nu \alpha} A^\alpha) = g_{\nu \alpha} D_\mu A^\alpha, $$
and
$$ D_\mu V^\mu = D_\mu (g^{\mu \nu} V_\nu) = g^{\mu \nu} D_\mu V_\nu = D^\nu V_\nu. $$

The \textbf{covariant derivative along a curve} is defined by
$$ \frac{D}{d\lambda} = \frac{dx^\mu}{d\lambda} D_\mu $$
where $x^\mu (\lambda)$ is a curve.
In particular, if a particle moves along a timelike curve $x^\mu(\tau)$ with velocity $v^\mu = dx^\mu/d\tau$, then
$$ \frac{D}{d\tau} v^\mu = v^\nu D_\nu v^\mu = \frac{dx^\nu}{d\tau} \left( \frac{\partial v^\mu}{\partial x^\nu} + \Gamma^\mu_{\nu \rho} v^\rho \right) = \frac{d v^\mu}{d \tau} + \Gamma^\mu_{\nu \rho} v^\nu v^\rho, $$
which is one side of the geodesic equation.
Therefore, in covariant form, the geodesic equation is simply
$$ \frac{D}{d\tau} v^\mu = 0. $$

From this equation it is clear that \textbf{the geodesic equation satisfies the principle of general covariance}.
The equation is entirely tensorial, so it is guaranteed to take the same form in all coordinate systems.
Furthermore, in a local inertial system where $D_\mu = \partial_\mu$, it reduces to $dv^\mu/d\tau = 0$, which is the correct equation from special relativity.

We can also use the covariant derivative along a curve to define the \textbf{covariant acceleration}:
$$ a^\mu = \frac{D}{d\tau} v^\mu = \frac{d^2 x^\mu}{d \tau^2} + \Gamma^\mu_{\nu \rho} \frac{dx^\nu}{d\tau} \frac{dx^\rho}{d\tau}. $$
With this definition, it is explicit that freely falling particles, which follow geodesics, are unaccelerated.

The \textbf{covariant form of Maxwell's equations} is found by simply substituting partial derivatives for covariant derivatives.
This familar procedure is justified because first we require general covariance, and second we require that the equations reduce to those of special relativity in a local inertial system, in which $D_\mu = \partial_\mu$.
Therefore the original Maxwell's equations
$$ \partial_\mu F^{\mu \nu} = -J^\nu, \quad \partial_{[\mu}F_{\nu \rho]} = 0 $$
become
$$ D_\mu F^{\mu \nu} = -J^\nu, \quad D_{[\mu}F_{\nu \rho]} = 0. $$

\section{Curvature and Einstein's equations}

On a differentiable manifold, vectors are intrinsically fixed at a particular point, and the procedure of \textbf{parallel transport} is required to compare vectors at different points.
Vectors are elements of a tangent space at an event.
Therefore it is not trivial to compare the coordinates of vectors at different points.
In particular, if $V^\mu \in T_p$ and $W^\mu \in T_q$ have the same components in one basis, then they might have different components in another basis.
Let $x^\mu(\lambda)$ be a curve with $x^\mu(0) = p^\mu$ and $x^\mu(\Lambda) = q^\mu$.
Extend the vector $V^\mu \in T_p$ to a vector field $V^\mu(x)$ defined at all the points on the curve subject to the requirement that
$$ \frac{D}{d\lambda} V^\mu = \frac{dV^\mu}{d\lambda} + \Gamma^\mu_{\nu \rho} \frac{dx^\nu}{d\lambda} V^\rho = 0. $$
Now $V^\mu(x(\Lambda)) \in T_q$ and can be compared to $W^\mu$.
For example, their inner product is
$$ (g_{\mu \nu}|{}_q) (V^\mu|{}_\Lambda) (W^\mu). $$
Note that inner products are conserved as vectors are parallel transported:
$$ \frac{D}{d\lambda} (g_{\mu \nu} V^\mu W^\nu) = \frac{D}{d\lambda} (g_{\mu \nu} V^\mu V^\nu) = 0. $$
This follows from the product rule for the covariant derivative. (?)
Therefore orthogonality is preserved.
In curved spacetime, parallel transport is dependent upon the chosen curve $x^\mu(\lambda)$.

The path depedence of parallel transport in a parallelogram can be used to derive the \textbf{Riemann curvature tensor}.
Consider a vector $V^\mu$ at a point $x^\mu_0$.
Use parallel transport on $V^\mu$ along two paths: first, $x_0^\mu \rightarrow x_0^\mu + a^\mu \rightarrow x_0^\mu + a^\mu + b^\mu$, second $x_0^\mu \rightarrow x_0^\mu + b^\mu \rightarrow x_0^\mu + b^\mu + a^\mu$, where both $a^\mu$ and $b^\mu$ are infinitesimal.
In general, the deviation of $V^\mu$ in an infinitesimal parallel transport $x^\mu \rightarrow x^\mu + dx^\mu$ is
$$ dV^\mu = - \Gamma^\mu_{\nu \rho} V^\nu dx^\rho, $$
which can be derived from the equation defining the vector field $V^\mu$ above.
Therefore the result after the first path is
$$ V^\mu_1 = V^\mu(x_0 + a) - \Gamma^\mu_{\nu \rho}(x_0 + a) V^\nu(x_0 + a) b^\rho $$
where
$$ V^\mu(x_0 + a) = V^\mu - \Gamma^\mu_{\nu \rho} V^\nu a^\rho $$
and
$$ \Gamma^\mu_{\nu \rho}(x_0 + a) = \Gamma^\mu_{\nu \rho} + \partial_\sigma \Gamma^\mu_{\nu \rho} a^\sigma. $$
Here and henceforth all quantities are evaluated at $x_0$ unless indicated.
Therefore
$$ V_1^\mu = V^\mu - \Gamma^\mu_{\nu \rho} V^\nu (a^\rho + b^\rho) - \partial_\sigma \Gamma^\mu_{\nu \rho} a^\sigma V^\nu b^\rho + \Gamma^\mu_{\nu \rho} \Gamma^\nu_{\alpha \beta} V^\alpha a^\beta b^\rho. $$
Renaming the repeated indices in the final two terms induces the simplification
$$ V_1^\mu =  V^\mu - \Gamma^\mu_{\nu \rho} V^\nu (a^\rho + b^\rho) + V^\nu a^\rho b^\sigma \left( -\partial_\rho \Gamma^\mu_{\nu \sigma} + \Gamma^\mu_{\alpha \sigma} \Gamma^\alpha_{\nu \rho} \right). $$
$V_2^\mu$ can be found by exchanging $a$ and $b$. Then their difference is
$$V_2^\mu - V_1^\mu = V^\nu a^\rho b^\sigma \left( \partial_\rho \Gamma^\mu_{\nu \sigma} - \partial_\sigma \Gamma^\mu_{\nu \rho} + \Gamma^\mu_{\alpha \rho} \Gamma^\alpha_{\nu \sigma} - \Gamma^\mu_{\alpha \sigma} \Gamma^\alpha_{\nu \rho} \right) = R^\mu{}_{\nu \rho \sigma} V^\nu a^\rho b^\sigma. $$
$R^\mu{}_{\nu \rho \sigma}$ is the Riemann curvature tensor.
Although $R^\mu{}_{\nu \rho \sigma} = 0$ in Minkowski space, it is in general nonzero.
It contains second derivatives of the metric, which do not vanish in a local inertial system.
An alternative definition of the Riemann curvature tensor is by the commutator of covariant derivatives:
$$ [D_\mu, D_\nu] V^\rho = (D_\mu D_\nu - D_\nu D_\mu ) V^\rho = R^\rho{}_{\sigma \mu \nu} V^\sigma. $$
Again we see that $R^\mu{}_{\nu \rho \sigma}$ reduces to $0$ in a local inertial system because partial derivatives commute.
In fully covariant form the Riemann curvature tensor is
$$ R_{\mu \nu \rho \sigma} = g_{\mu \alpha} R^\alpha{}_{\nu \rho \sigma}. $$
This can be written as
$$ R_{\mu \nu \rho \sigma} = \frac{1}{2} \left(\frac{\partial^2 g_{\mu \sigma}}{\partial x^\nu \partial x^\rho} - \frac{\partial^2 g_{\mu \rho}}{\partial x^\nu \partial x^\sigma} + \frac{\partial^2 g_{\nu \rho}}{\partial x^\mu \partial x^\sigma} - \frac{\partial^2 g_{\nu \sigma}}{\partial x^\mu \partial x^\rho} \right) + g_{\alpha \beta} \left( \Gamma^{\alpha}_{\mu \sigma} \Gamma^\beta_{\nu \rho} - \Gamma^\alpha_{\mu \rho} \Gamma^\rho_{\nu \sigma} \right). $$
Some symmetry properties are clear from this expression:
\begin{itemize}
\item $ R_{\mu \nu \rho \sigma} = -R_{\mu \nu \sigma \rho} = -R_{\nu \mu \rho \sigma} $
\item $ R_{\mu \nu \rho \sigma} = R_{\rho \sigma \mu \nu} $
\item $ R_{\mu \nu \rho \sigma} + R_{\mu \sigma \nu \rho} + R_{\mu \rho \sigma \nu} = 0 $
\item $ D_\alpha R_{\mu \nu \rho \sigma} + D_\nu R_{\alpha \mu \rho \sigma} + D_\mu R_{\nu \alpha \rho \sigma} = 0 $
\end{itemize}
The final equality is called the Bianchi identity and can be derived by considering the tensor in a local inertial system where the covariant derivatives are partial derivatives.
Contracting the Riemann curvature tensor gives the Ricci tensor, defined by
$$ R_{\mu \nu} = R^\rho{}_{\mu \rho \nu} = g^{\rho \sigma} R_{\sigma \mu \rho \nu}. $$
The Ricci tensor is symmetric.
The Ricci scalar is $R = R^\mu{}_\mu = g^{\mu \nu} R_{\mu \nu}$.
The Bianchi identity implies (how?) that
$$ D^\mu \left( R_{\mu \nu} - \frac{1}{2} g_{\mu \nu} R \right) = 0. $$

\end{document}